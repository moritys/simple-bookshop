# simple-bookshop

üêõüç´üíò

## —Å–¥–µ–ª–∞—Ç—å –Ω–µ –±—É–∫—à–æ–ø, –∞ —Å–µ—Ä–≤–∏—Å –ø–æ –∞—Ä–µ–Ω–¥–µ –∫–Ω–∏–≥ –Ω–∞ –≤—Ä–µ–º—è

1. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–Ω–∏–≥ –≤ –º–∞–≥–∞–∑–∏–Ω–µ 1 –∏–ª–∏ –±–æ–ª—å—à–µ (–ø–æ–¥—É–º–∞—Ç—å –≥–¥–µ –≤ –∫–∞–∫–æ–π –º–æ–¥–µ–ª–∏ —Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, –∫–∞–∫ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ –ª–∏ –¥–ª—è –±—Ä–æ–Ω–∏)
2. –û–¥–∏–Ω —é–∑–µ—Ä –º–æ–∂–µ—Ç –±—Ä–∞—Ç—å –≤ –∞—Ä–µ–Ω–¥—É —Å—Ä–∞–∑—É –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–∞ —Ä–∞–∑–Ω—ã–π —Å—Ä–æ–∫ (–æ—Ç–¥–µ–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å –±—Ä–æ–Ω–∏)
3. –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Å—Ä–æ–∫ –∞—Ä–µ–Ω–¥—ã - 1 –Ω–µ–¥–µ–ª—è
4. –î–æ–ø.—Ñ–∏—á–∏: —Å–∫–∏–¥–∫–∞ –ø—Ä–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –∞—Ä–µ–Ω–¥–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–Ω–∏–≥ (–Ω–∞ –æ–¥–Ω–æ–≥–æ —é–∑–µ—Ä–∞)

### –ö–æ–º–∞–Ω–¥—ã alembic –¥–ª—è —Å–∫–ª–µ—Ä–æ–∑–Ω—ã—Ö

1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è alembic –≤ –ø—Ä–æ–µ–∫—Ç–µ:

```bash
alembic init --template async alembic
```

* *`--template async` –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ —à–∞–±–ª–æ–Ω–∞*

2. –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –º–∏–≥—Ä–∞—Ü–∏–π

```bash
alembic revision --autogenerate -m "First migration"
```

3. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –Ω–µ–ø—Ä–∏–º–µ–Ω—ë–Ω–Ω—ã—Ö –º–∏–≥—Ä–∞—Ü–∏–π

```bash
alembic upgrade head
```

4. –û—Ç–º–µ–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏–π

```bash
alembic downgrade base
```

5. –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–º –ø–æ—Ä—è–¥–∫–µ

```bash
alembic history
```

* *`-v` –≤ –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ–º –≤–∏–¥–µ*
* *`-i` –≤—ã–≤–µ—Å—Ç–∏ –º–µ—Ç–∫—É –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏*

6. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é –ø—Ä–∏–º–µ–Ω—ë–Ω–Ω—É—é –º–∏–≥—Ä–∞—Ü–∏—é

```bash
alembic current
```
